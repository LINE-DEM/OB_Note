---
creation_date: 2026-01-23 10:00
type: "#Type/Architecture"
status: "#Status/Draft"
tags: [编译, 实战, 编译器项目]
aliases: [Mini C Compiler, 迷你C编译器]
tech_stack: "#Tech/CPP"
complexity: ⭐⭐⭐⭐
related_modules: [编译系统学习大纲, Day01_词法分析器]
---

# 项目概述：手写C语言子集编译器

## 核心摘要

> 通过实现一个简单C语言子集的编译器，将编译原理知识付诸实践，输出可在Windows上运行的x64汇编代码。

## 项目目标

1. 支持基本数据类型：int
2. 支持变量声明和赋值
3. 支持算术表达式：+, -, *, /
4. 支持比较运算：==, !=, <, >, <=, >=
5. 支持控制流：if-else, while
6. 支持函数定义和调用
7. 输出x64汇编，可用MASM汇编

## 语言规格

```c
// 支持的语法（EBNF）
program     = { function }
function    = "int" IDENTIFIER "(" [params] ")" block
params      = "int" IDENTIFIER { "," "int" IDENTIFIER }
block       = "{" { statement } "}"
statement   = declaration | assignment | if_stmt | while_stmt | return_stmt | expr_stmt
declaration = "int" IDENTIFIER ["=" expr] ";"
assignment  = IDENTIFIER "=" expr ";"
if_stmt     = "if" "(" expr ")" statement ["else" statement]
while_stmt  = "while" "(" expr ")" statement
return_stmt = "return" expr ";"
expr_stmt   = expr ";"
expr        = equality
equality    = comparison { ("==" | "!=") comparison }
comparison  = term { ("<" | ">" | "<=" | ">=") term }
term        = factor { ("+" | "-") factor }
factor      = unary { ("*" | "/") unary }
unary       = ["-"] primary
primary     = NUMBER | IDENTIFIER | "(" expr ")" | call
call        = IDENTIFIER "(" [args] ")"
args        = expr { "," expr }
```

## 项目结构

```
mini-c-compiler/
├── src/
│   ├── lexer.h/cpp      // 词法分析器
│   ├── token.h          // Token定义
│   ├── parser.h/cpp     // 语法分析器
│   ├── ast.h            // AST节点定义
│   ├── semantic.h/cpp   // 语义分析
│   ├── codegen.h/cpp    // 代码生成
│   └── main.cpp         // 入口
├── tests/               // 测试用例
└── examples/            // 示例代码
```

## 开发计划

| 阶段 | 内容 | 文档 |
|------|------|------|
| Day 1 | 词法分析器 | [[Day01_词法分析器]] |
| Day 2 | 语法分析器 | [[Day02_语法分析器]] |
| Day 3 | 语义分析 | [[Day03_语义分析]] |
| Day 4 | 代码生成 | [[Day04_代码生成]] |
| Day 5 | 链接与测试 | [[Day05_链接与测试]] |

## 关联知识

- [[编译系统学习大纲]]
- [[实践_手写Lexer]]
- [[实践_手写Parser]]
